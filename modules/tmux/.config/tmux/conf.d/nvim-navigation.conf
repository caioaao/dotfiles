##### Neovim â‡„ tmux with <C-w>h/j/k/l
# Goal: Reuse Vim's native split navigation (<C-w>h/j/k/l) everywhere.
# - In Neovim: let Neovim handle it (smart-splits.nvim will cross the boundary).
# - In shell panes: use a temporary key-table so <C-w>h/j/k/l moves tmux panes.
#
# Caveat: readline's plain <C-w> (delete previous word) won't run if you
# begin a pane move (<C-w>h/j/k/l). If you need that frequently, consider
# using Alt or Ctrl+Arrows instead.

# Enter a temporary "nav" table when pressing C-w *only in non-nvim panes*.
# If the current pane is Neovim, pass C-w through to Neovim untouched.
bind -n C-w if-shell -F '#{==:#{pane_current_command},nvim}' \
  'send-keys C-w' \
  'switch-client -T nav'

# In the temporary table, hjkl = select panes. Any one of these ends nav mode.
bind -T nav h select-pane -L
bind -T nav j select-pane -D
bind -T nav k select-pane -U
bind -T nav l select-pane -R

# Optional: add window cycling as well (C-w then H/L)
bind -T nav H previous-window
bind -T nav L next-window
